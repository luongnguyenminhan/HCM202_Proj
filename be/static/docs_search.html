<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Test /docs/search</title>
  <style>body{font-family:system-ui;margin:24px;max-width:900px}</style>
</head>
<body>
  <h1>/api/v1/docs/search</h1>
  <p>Base URL: http://localhost:8000</p>
  <label>Query: <input id="q" value="tư tưởng"/></label>
  <label>Doc ID: <input id="doc_id" type="number"/></label>
  <label>Chapter ID: <input id="chapter_id" type="number"/></label>
  <label>Limit: <input id="limit" type="number" value="5"/></label>
  <button id="btn">Search</button>
  <pre id="out"></pre>
  <script>
    document.getElementById('btn').onclick = async () => {
      const q = document.getElementById('q').value.trim();
      const doc_id = document.getElementById('doc_id').value;
      const chapter_id = document.getElementById('chapter_id').value;
      const limit = document.getElementById('limit').value;
      const params = new URLSearchParams({ q, limit });
      if (doc_id) params.set('doc_id', doc_id);
      if (chapter_id) params.set('chapter_id', chapter_id);
      const res = await fetch(`http://localhost:8000/api/v1/docs/search?${params.toString()}`);
      document.getElementById('out').textContent = JSON.stringify(await res.json(), null, 2);
    };
  </script>
</body>
</html>
